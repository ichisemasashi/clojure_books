

# はじめに

あなたは心の奥底で、自分がClojureを学ぶ運命にあることを常に知っていました。理解しがたいクラス階層に苦悶してキーボードを掲げるたび、突然変異で発生したハイゼンベルグに嗚咽して夜な夜な愛する人を困らせるたび、競争状態に陥ってますます少なくなった髪を引き抜くたび、あなたの中の秘密の部分は、*もっと良い方法があるはずだ*と知っていたのです。

そして今、ついに、あなたの目の前にある教材は、あなたと、あなたが待ち望んでいたプログラミング言語を結びつけてくれることでしょう。

## 新しいプログラミング言語を学ぶ。 4つの迷宮を旅する

Clojureを最大限に活用するためには、新しい言語を学ぶプログラマが直面する4つの迷宮を通り抜ける道を見つける必要があります。

- **Toolingの森** 親しみやすく、効率的なプログラミング環境は、あなたのアイデアを簡単に試すことができます。環境を構築する方法を学びます。
- **言語の山** Clojureの構文、セマンティクス、データ構造の知識を得ることができます。最も強力なプログラミングツールの1つであるマクロの使い方を学び、Clojureの並行処理構造を使用して生活を簡素化する方法を学びます。
-**人工物の洞窟-** その深部では、あなた自身のプログラムを構築、実行、および配布する方法と、コードライブラリの使用方法を学びます。 また、ClojureとJava仮想マシン(JVM)の関係も学びます。
-**マインドセットのクラウド城** その希薄な空気の中で、あなたはLispと関数型プログラミングの理由と方法を知ることになります。Clojureに浸透しているシンプルさの哲学と、Clojuristのように問題を解決する方法について学びます。

間違いなく、あなたは仕事をすることになります。しかし、本書はその作業を疲弊させるのではなく、爽快な気分にさせてくれるでしょう。それは、本書が3つのガイドラインに従っているからです。

- 本書は、デザートファーストのアプローチで、実際のプログラムをすぐに使い始めるために必要な開発ツールや言語の詳細を提供します。
- JVM、関数型プログラミング、Lispの経験がないことを前提にしています。Clojureプログラムを構築し実行する際に、自分が何をしているのか確信が持てるように、これらのトピックを詳細にカバーします。
- *実世界の例題*を避け、*ホビット族の襲撃*や*吸血鬼の追跡*など、より興味深い演習が中心となっています。

本書を読めば、現存する最もエキサイティングで楽しいプログラミング言語の1つであるClojureを使いこなすことができるようになります。

## 本書の構成

本書は3つのパートに分かれており、勇敢な探求者である勇敢なClojuristをより良く導くために構成されています。

### パート I: 環境のセットアップ

モチベーションを維持し、効率的に学習するためには、実際にコードを書き、実行ファイルをビルドする必要があります。この章では、あなたが簡単にプログラムを書くために必要なツールのクイックツアーを紹介します。そうすることで、環境をいじくり回すのではなく、Clojureの学習に集中することができます。

第1章: ビルド、実行、およびREPL
:   実際にプログラムを走らせることは、何か強力でモチベーションが上がります。それができれば、自由に実験ができますし、実際に自分の作品を共有することもできます!
:   この短い章では、Clojureプログラムをビルドして実行する素早い方法に慣れ親しむために、わずかな時間を費やします。 REPL (read-eval-print loop)を使用して、実行中のClojureプロセスでコードを実験する方法を学びます。これは、あなたのフィードバックのループを強化し、より効率的に学習するのに役立ちます。

第2章：優れたClojureエディタであるEmacsの使い方
:   学習には、素早いフィードバックループが重要です。この章では、効率的なEmacs/Clojureのワークフローを保証するために、Emacsを一から取り上げます。
- 本書は、デザートファーストのアプローチで、実際のプログラムをすぐに使い始めるために必要な開発ツールや言語の詳細を提供します。
- JVM、関数型プログラミング、Lispの経験がないことを前提にしています。Clojureプログラムを構築し実行する際に、自分が何をしているのか確信が持てるように、これらのトピックを詳細にカバーします。
- *実世界の例題*を避け、*ホビット族の襲撃*や*吸血鬼の追跡*など、より興味深い演習が中心となっています。

本書を読めば、現存する最もエキサイティングで楽しいプログラミング言語の1つであるClojureを使いこなすことができるようになります。

## 本書の構成

本書は3つのパートに分かれており、勇敢な探求者である勇敢なClojuristをより良く導くために構成されています。

### パート I: 環境のセットアップ

モチベーションを維持し、効率的に学習するためには、実際にコードを書き、実行ファイルをビルドする必要があります。この章では、あなたが簡単にプログラムを書くために必要なツールのクイックツアーを紹介します。そうすることで、環境をいじくり回すのではなく、Clojureの学習に集中することができます。

第1章: ビルド、実行、およびREPL
:   実際にプログラムを走らせることは、何か強力でモチベーションが上がります。それができれば、自由に実験ができますし、実際に自分の作品を共有することもできます!
:   この短い章では、Clojureプログラムをビルドして実行する素早い方法に慣れ親しむために、わずかな時間を費やします。 REPL (read-eval-print loop)を使用して、実行中のClojureプロセスでコードを実験する方法を学びます。これは、あなたのフィードバックのループを強化し、より効率的に学習するのに役立ちます。

第2章：優れたClojureエディタであるEmacsの使い方
:   学習には、素早いフィードバックループが重要です。この章では、効率的なEmacs/Clojureのワークフローを保証するために、Emacsを一から取り上げます。

### パート II: 言語の基礎

これらの章は、Clojureの学習を継続するための強固な基礎を提供します。Clojureの基本（構文、セマンティクス、データ構造）を学ぶことから始め、「物事を行う」ことができるようにします。その後、一歩下がってClojureの最もよく使われる関数を詳しく調べ、*関数型プログラミング*の考え方を使って、関数を使った問題解決方法を学びます。

第3章: やること。Clojureクラッシュコース
:   この章では、Clojureを本格的に掘り下げます。また、「*HOLY MOLEY THAT'S SPIFFY！*」と大声で叫び始め、この本の索引を埋めるまで止まらないので、窓を閉じる必要があります。
:   Clojureの素晴らしい並行処理サポートやその他の素晴らしい機能をご存知でしょうが、Clojureの最も顕著な特徴は、それがLispであることです。関数とデータの2つの部分からなるこのLispコアを探っていきます。

第4章 コア関数の深層
:   この章では、Clojureの基礎となるいくつかの概念について学びます。この章では、Clojureの基本的な概念について学びます。これにより、使ったことのない関数のドキュメントを読み、それらを試したときに何が起こっているかを理解するために必要な基礎知識を得ることができます。
:   また、最もよく使う関数の使用例を見ることができます。これは、あなた自身がコードを書く際にも、他の人のプロジェクトを読んで学ぶ際にも、確かな基礎となるものです。 そして、キラキラした吸血鬼の追跡について説明したのを覚えていますか？この章ではそれを行います (すでに暇なときにやっているのでなければ)。

第5章：関数型プログラミング
:   この章では、関数とデータ構造に関する具体的な経験を、新しい考え方である関数型プログラミングの考え方と統合していきます。この章では、関数とデータ構造の具体的な経験をもとに、新しい考え方である関数型プログラミングの考え方と融合させることで、その知識を披露します。ペグシンク

第6章: プロジェクトを整理する。この章では、名前空間とは何か、そして名前空間を使ってどのようにコードを整理するかを説明します。あまり多くを語りたくないのですが、国際的なチーズ泥棒も関係しています。

第7章：Clojureの錬金術。読み込み、評価、マクロ
:   この章では、一歩下がって、Clojureがどのようにあなたのコードを実行するかを説明します。これは、Clojureがどのように動作し、他の非Lisp言語とどのように異なるかを真に理解するために必要な概念的な構造を与えるものです。この構造ができてから、現存する最も強力なツールの1つであるマクロを紹介します。

第8章 マクロの書き方
:   この章では、マクロの書き方について、基本的な例から複雑なものまで徹底的に検証します。最後に、オンライン薬店を経営しているふりをして、マクロを使って顧客の注文を検証する、というおままごとをすることになります。

### パート III: 高度なトピック

この章では、Clojureの特別に楽しいトピックである並行処理、Java相互運用、および抽象化について説明します。これらのツールやコンセプトを理解しなくてもプログラムは書けますが、知的好奇心を刺激され、プログラマとして大きな力を発揮します。Clojureを学ぶと良いプログラマーになれると言われる理由の1つは、これらの章で扱う概念を理解しやすく、実用的に使えるようにするためです。

第9章 並行・並列プログラミングの聖なる術
:   この章では、並行処理と並列処理とは何か、そしてなぜそれが重要なのかを学びます。並列プログラムを書くときに直面する課題と、Clojureの設計がどのようにそれらを軽減するのに役立つかについて学びます。futures、delay、promiseを使用して、安全に並列プログラムを書くことができます。

第10章 Clojureの形而上学。Atom、Ref、Var、および抱きつきゾンビ
:   この章では、Clojureの状態管理のアプローチと、それがどのように並行プログラミングを簡素化するかについて、詳細に説明します。 状態を管理するための3つの構造体であるatom、ref、varの使い方を学び、`pmap`でステートレス並列計算を行う方法を学びます。そして、抱っこゾンビも登場します。

第11章： core.asyncで並行処理をマスターする :   この章では、宇宙のすべてはホットドッグの自動販売機であるという考えについて熟考します。つまり、core.asyncライブラリを使って、チャネルを介して互いに通信する独立して実行されるプロセスのシステムをモデル化する方法を学びます。

第12章: JVMを使う
:   この章は、フレーズ集とJavaの国への文化的な紹介の間にあるようなものです。JVMとは何か、JVMがどのようにプログラムを実行するのか、JVM用にどのようにプログラムをコンパイルするのか、などの概要が書かれています。また、よく使われるJavaのクラスとメソッドを簡単に紹介し、Clojureからそれらを操作する方法を説明します。 それ以上に、Clojureプログラムに任意のJavaライブラリを組み込むことができるように、Javaについて考え、理解する方法を示しています。

第13章 マルチメソッド、プロトコル、レコードを使った抽象化の作成と拡張
:   第4章で、Clojureは抽象化という観点から書かれていることを学びました。この章は、独自の抽象化を作成し、実装する世界への導入となります。マルチメソッド、プロトコル、およびレコードの基本を学びます。

付録A: ライニンゲンを使った構築と開発
:   この付録では、Maven とは何か、Java ライブラリのバージョン番号を調べて使用する方法など、Leiningen を使用する際の細かなポイントを説明します。

付録B：Clojureビルド・フレームワークのBoot
:   Boot は Leiningen の代替品で、機能的には同じですが、拡張やコンポーザブルなタスクの作成がより簡単という利点があります。この付録では、Boot の基本的な概念を説明し、最初のタスクを書くためのガイドを提供します。

## コード

本書のすべてのソースコードは、*<http://www.nostarch.com/clojure/>* からダウンロードすることができます。コードは章ごとに構成されています。

第1章では、REPLの使い方を含め、Clojureコードを実行するさまざまな方法について説明しています。私は、特に第3章から第8章までの、ほとんどの例を遭遇したときにREPLで実行することをお勧めします。これは、Lispコードを書いて理解することに慣れ、学習していることすべてを保持するのに役立ちます。しかし、長い例では、コードをファイルに書き出し、書いたコードをREPLで実行するのが一番です。

## 旅が始まる!

勇敢な読者よ、準備はできたか？本当の運命に出会う準備はできていますか？ 最高の括弧を手に、生涯の旅に出かけましょう!


