[UP](000_00.md)

### レッスン3：ビルディングブロック

ClojureScriptとは何か、なぜそれが重要なのかを理解した上で、言語の基本を概観することから旅を始めます。慣れない言語を学ぶ際の最大のハードルの1つは、構文を理解することです。概念的なレベルでは言語間で大きな共通点がありますが、その概念を表現する方法は全く異なる場合があります。次の2つのレッスンでは、ClojureScriptのコードを読むという基本的なスキルに磨きをかけていきます。JavaScriptに比べて非常にシンプルな構文であっても、（JavaScriptを含む）Cのような言語に身を置いてきた多くのプログラマーにとっては、非常に珍しいものに見えます。ClojureScriptを読むスキルは、今後のレッスンで長いコードサンプルを簡単に読めるようになるために大いに役立ちます。

-----
**このレッスンでは**

- ClojureScriptの構文の基本を学びます。
- すべての括弧の目的を理解する
- 言語に組み込まれている中核的なデータ型を調査する
-----

まず、このレッスンでは、言語の最も一般的な構文要素を調査し、次のレッスンでは、ClojureScriptのコードが実際にどのように評価されるかを見ていきます。評価モデルを理解することで、読むコードを理解し、期待通りのコードを書くことができるようになります。ClojureScriptは非常に小さな言語であり、JavaScriptよりもはるかに小さいため、理解するのは非常に簡単です。外国語の構文であるにもかかわらず、言語の構文要素が比較的少ないため、驚くほど早く慣れ親しむことができます。

#### 括弧、括弧、どこでも！？

これまでのレッスンの例で見てきたように、ClojureScriptのコードには括弧がたくさんあります。多くの人にとって、この言語のこの1つの側面が、ClojureScriptを厄介なものにしています。括弧は、1つのコードを他のコードと区別するために使われる主要な記号です。JavaScriptをはじめとするC言語系の言語では、括弧と中括弧の両方が使われています。括弧は関数のパラメータを示したり、演算の順番を指定したりするために使われ、中括弧は関連するステートメントのブロックを区切るために使われます。最初の「括弧ショック」を乗り越えれば、ClojureScriptはシンプルでエレガントにさえ見えてきます。

##### 式と関数の評価

ClojureScriptでは、評価されるべき式を示すために括弧を使用します。次のレッスンでは、この**S式**と呼ばれるものについてもっと詳しく見ていきますが、非常に重要なものなので、少なくともここでは触れておかなければなりません。高いレベルでは、すべてのClojureScriptプログラムは基本的に次のような形をしています。

###### ClojureScriptプログラムの概要

```Clojure
(some-function arg1 arg2 ...)
```

開いた括弧があると、コンパイラが次に期待するのは、呼び出し可能なもの（通常は関数）です。次の閉じた括弧までの他のすべてのものは、引数であることが期待されます。

![simple-expression.png](imgs0/simple-expression.png)

シンプルな式

同じ一般的な構造をJavaScriptで記述すると、以下のようになります。

```JavaScript
someFunction(arg1, arg2, ...);
```
ClojureScriptとJavaScriptのコードはどちらも、いくつかの関数があって、それがいくつかの数の引数で呼び出されるべきことを示しています。JavaScriptのコードでは、関数の名前を最初に置き、その後にいくつかの引数を括弧で囲んで関数呼び出しを示しますが、ClojureScriptでは、関数名とその引数の両方を括弧で囲んで同じことを示します。

#### コアデータ型

ClojureScriptには、数字、文字列、ブーリアンなど、他のプログラミング言語で期待されるすべてのプリミティブなデータ型があります。これらの単純な値をスカラーと呼びます。さらに、JavaScriptの配列やオブジェクトのように、この言語にはさまざまな便利なコレクション型があります。これらのコレクションは頻繁に使用されるため、それらを表現する特別な構文があります。それぞれのデータ型について説明する前に、参考のためにデータ型の一覧を挙げておきましょう。次の表は、リテラルの構文表現を持つデータ型の一覧で、簡単な説明とコードでの表現例を示しています。

ClojureScriptデータリテラル

|データ型|説明|例|
|:------|:---|:--|
|数値|整数または浮動小数点数|`17.4`|
|文字列|テキストデータ|`"Today is the first day..."`|
|文字|テキストデータ|`\a`|
|真偽値|論理的な真/偽|`true`|
|キーワード|軽量化された識別子|`:role`|
|シンボル|ClojureScript内部でよく使われる識別子|`'cljs-is-awesome`|
|リスト|効率的な探索を可能にする順序付きコレクション|`'(1 3 5 7 9)`|
|ベクタ|インデックスによる効率的なアクセスを可能にする順序付けされたコレクション|`[0 2 4 6 8]`|




[UP](000_00.md)
