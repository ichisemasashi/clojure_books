\section{まとめ}

アプリケーションを構築するとき、私たちはしばしば、そうでなければ純粋なアプリケーションを通して更新を進めていくことに気づきます。もし私たちがルールを明確にし、関数に責任を持ち、管理する必要があるものを正しく選択するならば、効果的にそれを行うことができます。

データとその状態の変化を一連のスナップショットとして見ることで、他のプロセスのオブザーバの存在を考慮した上で、責任ある行動をとることができる。Clojureでは、それらのスナップショットは、ミュータブルな参照に包まれた以前のバージョンとして保持されます。これは、すべてのオブザーバーが特定の瞬間の値の一貫したセットを持っていることを保証し、誰も不幸な状況に自分自身を見つけることはありません。

この章では、時間の観点から見たアイデンティティと状態についてのアイデアを探求することから始めました。これらのアイデアを使用して、Clojure の vars によるグローバルな状態、および atoms と refs を使用して更新を管理する機能について学びました。これらのことはすべて、時間の経過とともにストーリーを整理しておくのに役立ちます。これで、並行処理に進むためのツールを手に入れました。

次の章では、並行処理について考えていきます。また、子供と一緒に買い物に行ったときに見た core.async をより深く見ていきます。エージェントは、私たちの管理対象名簿を完成させるでしょう。